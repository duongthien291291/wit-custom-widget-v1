// Reset and base styles
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html {
  font-size: 16px;
  line-height: 1.5;
}

body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  background-color: var(--gray-100);
  color: var(--gray-800);
  overflow-x: hidden;
}

// GridStack overrides
.grid-stack {
  background: transparent;
  min-height: 500px;
  width: 100%;
  height: 100%;
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
  
  .grid-stack-item {
    .grid-stack-item-content {
      background: var(--white);
      border-radius: var(--border-radius-md);
      box-shadow: var(--shadow-sm);
      border: 1px solid var(--gray-200);
      transition: box-shadow var(--transition-fast), border-color var(--transition-fast);
      
      &:hover {
        box-shadow: var(--shadow-md);
        border-color: var(--primary-color);
      }
    }
    
    &.ui-draggable-dragging {
      .grid-stack-item-content {
        box-shadow: var(--shadow-lg);
        transform: rotate(2deg);
        transition: none; // Disable transitions during drag
      }
    }
  }
}

// Widget palette styles
.widget-palette {
  .widget-item {
    cursor: grab;
    transition: box-shadow var(--transition-fast), transform var(--transition-fast);
    
    &:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow-md);
    }
    
    &:active {
      cursor: grabbing;
    }
    
    // GridStack item styling for external drag
    &.grid-stack-item {
      // Make sure the item is draggable
      &.ui-draggable {
        cursor: grab;
        
        &.ui-draggable-dragging {
          cursor: grabbing;
          transform: rotate(2deg);
          box-shadow: var(--shadow-lg);
          z-index: 1000;
          opacity: 0.8;
          transition: none; // Disable transitions during drag
        }
      }
    }
  }
}

// Responsive design
@media (max-width: 768px) {
  .widget-palette {
    .widget-item {
      margin-bottom: var(--spacing-sm);
    }
  }
}
